(function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t():"function"===typeof define&&define.amd?define([],t):"object"===typeof exports?exports["splitpanes"]=t():e["splitpanes"]=t()})("undefined"!==typeof self?self:this,function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var s=t[i]={i:i,l:!1,exports:{}};return e[i].call(s.exports,s,s.exports,n),s.l=!0,s.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(i,s,function(t){return e[t]}.bind(null,s));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="fb15")}({"5b84":function(e,t,n){"use strict";var i=n("7ba0"),s=n.n(i);s.a},"7ba0":function(e,t,n){},fb15:function(e,t,n){"use strict";var i;(n.r(t),"undefined"!==typeof window)&&((i=window.document.currentScript)&&(i=i.src.match(/(.+\/)[^\/]+\.js(\?.*)?$/))&&(n.p=i[1]));function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){o(e,t,n[t])})}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e){return h(e)||u(e)||a()}function a(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function u(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function h(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}var c,l,p={props:{watchSlots:{type:Boolean,default:!1},horizontal:{type:Boolean,default:!1},pushOtherPanes:{type:Boolean,default:!0},dblClickSplitter:{type:Boolean,default:!0}},data:function(){return{container:{vnode:null,offsetLeft:null,offsetTop:null},slotsCount:0,vnodes:[],panes:[],splitters:[],touch:{mouseDown:!1,dragging:!1,activeSplitter:null},splitterTaps:{splitter:null,timeoutId:null},slotsCopy:""}},methods:{bindEvents:function(){"ontouchstart"in window&&(document.addEventListener("touchmove",this.onMouseMove,{passive:!1}),document.addEventListener("touchend",this.onMouseUp)),document.addEventListener("mousemove",this.onMouseMove,{passive:!1}),document.addEventListener("mouseup",this.onMouseUp)},onMouseDown:function(e,t){this.touch.mouseDown=!0,this.touch.activeSplitter=t},onMouseMove:function(e){this.touch.mouseDown&&(e.preventDefault(),this.touch.dragging=!0,this.calculatePanesSize(this.getCurrentMouseDrag(e)),this.$emit("resize",this.panes.map(function(e){return{min:e.min,max:e.max,width:e.width}})))},onMouseUp:function(){var e=this;this.touch.dragging&&this.$emit("resized",this.panes.map(function(e){return{min:e.min,max:e.max,width:e.width}})),this.touch.mouseDown=!1,setTimeout(function(){return e.touch.dragging=!1},100)},onSplitterClick:function(e,t){if("ontouchstart"in window){e.preventDefault();var n=this.splitterTaps,i=(n.timeoutId,n.splitter);i!==t?(i=t,setTimeout(function(){return i=null},500)):this.onSplitterDblClick(e,t)}this.touch.dragging||this.$emit("splitter-click",this.panes[t])},onSplitterDblClick:function(e,t){var n=0;this.panes=this.panes.map(function(e,i){return e.width=i===t?e.max:e.min,i!==t&&(n+=e.min),e}),this.panes[t].width-=n,this.$emit("pane-maximize",this.panes[t])},getCurrentMouseDrag:function(e){return{x:e.touches?e.touches[0].clientX:e.clientX,y:e.touches?e.touches[0].clientY:e.clientY}},getContainerOffsetTop:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(null===this.container.offsetTop||e){var t=this.container.vnode,n=t.offsetTop;while(t=t.offsetParent)n+=t.offsetTop;this.container.offsetTop=n}return this.container.offsetTop},getContainerOffsetLeft:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(null===this.container.offsetLeft||e){var t=this.container.vnode,n=t.offsetLeft;while(t=t.offsetParent)n+=t.offsetLeft;this.container.offsetLeft=n}return this.container.offsetLeft},getCurrentDragPercentage:function(e){var t=this.touch.activeSplitter,n=document.documentElement,i=this.horizontal?(window.pageYOffset||n.scrollTop)-(n.clientTop||0):null,s=this["getContainerOffset".concat(this.horizontal?"Top":"Left")]();e=e[this.horizontal?"y":"x"]-s+i;var o=this.container.vnode[this.horizontal?"clientHeight":"clientWidth"],r=0;return this.panes.forEach(function(e,n){return r+=n<t?e.width:0}),100*e/o},calculatePanesSize:function(e){var t=this.touch.activeSplitter,n={prevPanesSize:this.sumPrevPanesSize(t),nextPanesSize:this.sumNextPanesSize(t),prevReachedMinPanes:0,nextReachedMinPanes:0},i=0+(this.pushOtherPanes?0:n.prevPanesSize),s=100-(this.pushOtherPanes?0:n.nextPanesSize),o=Math.max(Math.min(this.getCurrentDragPercentage(e),s),i),r=[t,t+1],a=this.panes[r[0]]||null,u=this.panes[r[1]]||null,h=a.max<100&&o>=a.max+n.prevPanesSize,c=u.max<100&&o<=100-(u.max+this.sumNextPanesSize(t+1));if(h||c)h?(a.width=a.max,u.width=Math.max(100-a.max-n.prevPanesSize-n.nextPanesSize,0)):(a.width=Math.max(100-u.max-n.prevPanesSize-this.sumNextPanesSize(t+1),0),u.width=u.max);else{if(this.pushOtherPanes){var l=this.doPushOtherPanes(n,o);if(!l)return;n=l.sums,r=l.panesToResize,a=this.panes[r[0]]||null,u=this.panes[r[1]]||null}null!==a&&(a.width=Math.min(Math.max(o-n.prevPanesSize-n.prevReachedMinPanes,a.min),a.max)),null!==u&&(u.width=Math.min(Math.max(100-o-n.nextPanesSize-n.nextReachedMinPanes,u.min),u.max))}},doPushOtherPanes:function(e,t){var n=this,i=this.touch.activeSplitter,s=[i,i+1];return t<e.prevPanesSize+this.panes[s[0]].min&&(s[0]=this.findPrevExpandedPane(i).index,e.prevReachedMinPanes=0,s[0]<i&&this.panes.forEach(function(t,n){n>s[0]&&n<=i&&(t.width=t.min,e.prevReachedMinPanes+=t.min)}),e.prevPanesSize=this.sumPrevPanesSize(s[0]),void 0===s[0])?(e.prevReachedMinPanes=0,this.panes[0].width=this.panes[0].min,this.panes.forEach(function(t,n){n>0&&n<=i&&(t.width=t.min,e.prevReachedMinPanes+=t.min)}),this.panes[s[1]].width=100-e.prevReachedMinPanes-this.panes[0].min-e.prevPanesSize-e.nextPanesSize,null):t>100-e.nextPanesSize-this.panes[s[1]].min&&(s[1]=this.findNextExpandedPane(i).index,e.nextReachedMinPanes=0,s[1]>i+1&&this.panes.forEach(function(t,n){n>i&&n<s[1]&&(t.width=t.min,e.nextReachedMinPanes+=t.min)}),e.nextPanesSize=this.sumNextPanesSize(s[1]-1),void 0===s[1])?(e.nextReachedMinPanes=0,this.panes[this.panes.length-1].width=this.panes[this.panes.length-1].min,this.panes.forEach(function(t,s){s<n.panes.length-1&&s>=i+1&&(t.width=t.min,e.nextReachedMinPanes+=t.min)}),this.panes[s[0]].width=100-e.prevPanesSize-e.nextReachedMinPanes-this.panes[this.panes.length-1].min-e.nextPanesSize,null):{sums:e,panesToResize:s}},sumPrevPanesSize:function(e){return this.panes.reduce(function(t,n,i){return t+(i<e?n.width:0)},0)},sumNextPanesSize:function(e){return this.panes.reduce(function(t,n,i){return t+(i>e+1?n.width:0)},0)},findPrevExpandedPane:function(e){var t={},n=r(this.panes);return n.reverse().some(function(n){return n.index<e&&n.width>n.min&&(t=n),n.index<e&&n.width>n.min}),t},findNextExpandedPane:function(e){var t={};return this.panes.some(function(n){return n.index>e+1&&n.width>n.min&&(t=n),n.index>e+1&&n.width>n.min}),t}},mounted:function(){this.container.vnode=this.$refs.container,this.bindEvents(),this.$emit("ready")},beforeDestroy:function(){document.removeEventListener("touchmove",this.onMouseMove,{passive:!1}),document.removeEventListener("mousemove",this.onMouseMove,{passive:!1}),document.removeEventListener("touchend",this.onMouseUp),document.removeEventListener("mouseup",this.onMouseUp)},computed:{defaultWidth:function(){return 100/this.vnodes.length}},beforeUpdate:function(){var e=this;this.panes.length&&this.$slots.default.forEach(function(t){if(t.tag||(t.text||"").trim()){var n=t.elm;n=void 0===n?{}:n;var i=n.parentNode;i=void 0===i?{}:i;var s=i.id,o=i.className,r=i.style;r=void 0===r?{}:r;var a=r.width,u=r.height;if("splitpanes__pane"===o&&(s=s.replace("pane_",""))&&e.panes[s]&&(a||u)){var h=t.elm;h=void 0===h?{}:h;var c=h.attributes;c=void 0===c?{}:c;var l=c["splitpanes-size"];l=void 0===l?{}:l;var p=l.value;e.panes[s].savedWidth=void 0!==p?parseFloat(p):parseFloat(a||u)}}})},render:function(e){var t=this,n=[];if(this.$slots.default){var i=!1;if(this.watchSlots){var o=["$options","$parent","$root","$el","$refs","$slots","$scopedSlots","$vnode","_data","__vue__","_self","_vnode","_watcher","_watchers","_computedWatchers","_renderProxy","vnodes","container","Ctor","context","parent","componentInstance","componentOptions","fnContext","fnOptions"],r=JSON.stringify(this.$slots.default,function(e,t){return o.indexOf(e)>-1?void 0:t});i=this.slotsCopy!==r,i&&(this.slotsCopy=r)}(this.slotsCount!==this.$slots.default.length||i)&&(this.vnodes=this.$slots.default.filter(function(e){return e.tag||(e.text||"").trim()}),this.vnodes.forEach(function(e,n){var i=e.data;i=void 0===i?{}:i;var s=i.attrs,o=void 0===s?{}:s,r=o["splitpanes-min"],a=void 0===r?0:r,u=o["splitpanes-max"],h=void 0===u?100:u,c=o["splitpanes-size"],l=void 0===c?t.defaultWidth:c,p=t.panes[n]&&void 0!==t.panes[n].savedWidth?t.panes[n].savedWidth:null;t.$set(t.panes,n,{width:null!==p?p:parseFloat(l),index:n,min:parseFloat(a),max:parseFloat(h)}),n&&t.$set(t.splitters,n-1,{id:"splitter-".concat(n-1),index:n-1})}),this.slotsCount=this.$slots.default.length),this.vnodes.forEach(function(i,o){if(o){var r={id:o-1,class:"splitpanes__splitter",ref:"splitter-".concat(o-1),on:s({},"ontouchstart"in window?{touchstart:function(e){return t.onMouseDown(e,o-1)}}:{},{mousedown:function(e){return t.onMouseDown(e,o-1)},click:function(e){return t.onSplitterClick(e,o)}},t.dblClickSplitter?{dblclick:function(e){return t.onSplitterDblClick(e,o)}}:{})};n.push(e("div",r))}var a={attrs:{id:"pane_".concat(o)},class:"splitpanes__pane",style:s({},t.horizontal?{height:"".concat(t.panes[o].width,"%")}:null,t.horizontal?null:{width:"".concat(t.panes[o].width,"%")}),on:{click:function(e){return t.$emit("pane-click",t.panes[o])}}};n.push(e("div",a,[i]))})}else n.push(e("div","Splitpanes needs some content here."));var a={class:["splitpanes","splitpanes--".concat(this.horizontal?"horizontal":"vertical"),this.touch.dragging?"splitpanes--dragging":""],ref:"container"};return e("div",a,n)}},d=p;n("5b84");function f(e,t,n,i,s,o,r,a){var u,h="function"===typeof e?e.options:e;if(t&&(h.render=t,h.staticRenderFns=n,h._compiled=!0),i&&(h.functional=!0),o&&(h._scopeId="data-v-"+o),r?(u=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),s&&s.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(r)},h._ssrRegister=u):s&&(u=a?function(){s.call(this,this.$root.$options.shadowRoot)}:s),u)if(h.functional){h._injectStyles=u;var c=h.render;h.render=function(e,t){return u.call(t),c(e,t)}}else{var l=h.beforeCreate;h.beforeCreate=l?[].concat(l,u):[u]}return{exports:e,options:h}}var v=f(d,c,l,!1,null,null,null),m=v.exports;t["default"]=m}})["default"]});
//# sourceMappingURL=splitpanes.umd.min.js.map